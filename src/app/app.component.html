<mat-card>
  <h1>{{ title }}</h1>

  <mat-form-field appearance="outline" style="width: 100%;">
    <mat-label>Nuova attivit√†</mat-label>
    <input matInput [(ngModel)]="newTask" />
  </mat-form-field>

  <button mat-raised-button color="primary" (click)="addTask()">Aggiungi</button>

  <div id="filter-buttons">
    <button mat-button (click)="filter = 'all'">Tutte</button>
    <button mat-button (click)="filter = 'completed'">Completate</button>
    <button mat-button (click)="filter = 'pending'">Da fare</button>
  </div>

</mat-card>

<mat-card style="margin-top: 10px;">
  <mat-card-content style="text-align: center; color: rgb(227, 91, 113); display: flex; align-items: center; justify-content: center; gap: 8px;">
    <span>Task da completare</span>
    <mat-icon matBadge="{{ activeTaskCount }}" matBadgeColor="accent" matBadgeSize="medium"
      aria-label="Task da completare">
      assignment
    </mat-icon>

  </mat-card-content>
</mat-card>

<div *ngFor="let task of filteredTasks; let i = index" style="margin-top: 10px;">
  <mat-card id="task-box">
    <mat-card-content>
      <mat-checkbox [(ngModel)]="task.completed" (change)="saveTasks()">
        <span [style.textDecoration]="task.completed ? 'line-through' : 'none'">
          {{ task.text }}
        </span>
        <small>{{ task.createdAt | date:'short' }}</small>
      </mat-checkbox>
        
    </mat-card-content>
    <mat-card-actions>
      <button mat-icon-button color="warn" (click)="removeTask(i)">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
  
</div>